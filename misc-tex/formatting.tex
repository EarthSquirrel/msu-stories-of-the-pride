% Test if something is empty, if so do #2 else do #3
\def \ifempty#1{\def\temp{#1} \ifx\temp\empty }
\newcommand{\testEmpty}[3]{\ifempty{#1} #2 \else #3 \fi}

% Make the command for organizing stories
% \story{name}{title}{story}{pronouns}{major}{year}{flag commands}
\newcommand{\story}[7]{
    % 1: Name 2: Title
    \section*{\uppercase{\textbf{#1}}: #2}
    % Only do a new line if there were flags to write out
    \testEmpty{#7}{}{
        % not sure what \wd0 does, but it works!
        % wrapfigure wraps the text around the image
        \begin{wrapfigure}{l}{\wd0}
            #7  % List of flag commands for images
        \end{wrapfigure}
    }
    #3 \\  % Story
    % 4: pronouns Only add - if there are pronouns present
    \textit{\testEmpty{#4}{}{-#4}} \\
    % 5: major 6: year in school
    % If major is there add , only if year in school is also there
    \textit{\testEmpty{#5}{}{-#5\testEmpty{#6}{}{, #6}}}
}

% command for an identity with the flag on the right side of the page
% {Section title}{flag path}{citation key}{flag figure text}{about the identity}
\newcommand{\rIdentity}[5]{
    \section*{#1}
    \begin{wrapfigure}{#2}{0.33\textwidth}
        \includegraphics[width=0.31\textwidth]{#2}
        \caption{#4 \\ \cite{#3}}
    \end{wrapfigure}
    #5
}

% command for an identity with the flag on the left side of the page
% {Section title}{flag path}{citation key}{flag figure text}{about the identity}
\newcommand{\lIdentity}[5]{
    \section*{#1}
    
    #5
}


% Make the command for organizing stories

% Test if something is empty, if so do #2 else do #3
%\def \ifempty#1{\def\temp{#1} \ifx\temp\empty }
%\newcommand{\testEmpty}[3]{\ifempty{#1} #2 \else #3 \fi}

% Used in msu-2019-2020
% \story{name}{title}{story}{pronouns}{major}{year}{flag commands}
% WHAT IS THE DIFFERENCE BETWEEN THIS AND STORY????
\newcommand{\storytwo}[7]{    
    % #1 Name, #2 Story title
    \section*{\uppercase{\textbf{#1}}: #2}
    \begin{centering} 
    % Only do a new line if there were flags to write out
    #7 \testEmpty{#7}{}{\\}
    \end{centering}

    #3 %\\  % Story

    % Why does surrounding \testEmtpy in \textit indent things?
    % Test if #4 is empty, if so, leave blank, if not format pronouns
    \textit{\testEmpty{#4}{}{-#4}}
    
    % #5 Major, #6 Year in school
    % If major is there add , only if year in school is also there
    \textit{\testEmpty{#5}{}{-#5\testEmpty{#6}{}{, #6}}}
}

% \story{name}{title}{story}{pronouns}{major}{year}
\newcommand{\storyonly}[6]{    
    % #1 Name, #2 Story title
    \section*{\uppercase{\textbf{#1}}: #2}
    
    #3 %\\  % Story

    % Why does surrounding \testEmtpy in \textit indent things?
    % Test if #4 is empty, if so, leave blank, if not format pronouns
    \textit{\testEmpty{#4}{}{-#4}}
    
    % #5 Major, #6 Year in school
    % If major is there add , only if year in school is also there
    \textit{\testEmpty{#5}{}{-#5\testEmpty{#6}{}{, #6}}}
}
