% Make the command for organizing stories

\def \ifempty#1{\def\temp{#1} \ifx\temp\empty }

%\mymacro{something} % prints "not empty"
%\mymacro{}          % prints "empty"


% Used in msu-2019-2020
% \story{name}{title}{story}{pronouns}{major}{year}
\def \anon#1{ \ifempty{#1} Anonomous \else #1 \fi }
    \newcommand{\anonVar}[1]{\anon{#1}}
\newcommand{\testEmpty}[3]{\ifempty{#1} #2 \else #3 \fi}
\newcommand{\story}[6]{    
    % It doesn't work once it gets into the section portion...
    %\uppercase{\textbf{\anonVar{#1}}}
    %\section*{\uppercase{\textbf{\anonVar{#1}}}: #2}
    % #1 Name, #2 Story title
    \section*{\uppercase{\textbf{#1}}: #2}
    
    #3 %\\  % Story

    % TODO: Why does surrounding \testEmtpy in \textit indent things?
    % Test if #4 is empty, if so, leave blank, if not format pronouns
    \textit{\testEmpty{#4}{}{-#4}}
    
    % #5 Major, #6 Year in school
    % If major is there add , only if year in school is also there
    \textit{\testEmpty{#5}{}{-#5\testEmpty{#6}{}{, #6}}}
}

